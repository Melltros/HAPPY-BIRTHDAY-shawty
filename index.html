<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anuradha's Magical Birthday Surprise!</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        /* --- 1. Global Styles and Background --- */
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom, #fff5e6, #ffe0f0);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding-top: 40px;
            overflow-x: hidden;
            color: #333;
        }

        /* --- 2. Confetti Animation (Intense Party Popper Effect) --- */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 9999;
        }
        .confetti {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            opacity: 0;
            animation: fall 3s ease-in-out infinite;
        }
        /* Define colors for variety */
        .confetti:nth-child(5n+1) { background-color: #ff69b4; }
        .confetti:nth-child(5n+2) { background-color: #6ee6a9; }
        .confetti:nth-child(5n+3) { background-color: #fff5e6; }
        .confetti:nth-child(5n+4) { background-color: #fce4ec; width: 6px; height: 6px; }
        .confetti:nth-child(5n) Â  { background-color: #ffc0cb; width: 10px; height: 10px; }
        
        @keyframes fall {
            0% { transform: translateY(-100px) rotate(0deg) scale(1); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg) scale(0.5); opacity: 0; }
        }

        /* Apply staggered animation delays (reduced for brevity, see code block for full list) */
        .confetti:nth-child(1) { left: 5%; animation-delay: 0.1s; animation-duration: 2.5s; }
        .confetti:nth-child(2) { left: 10%; animation-delay: 0.2s; animation-duration: 3s; }
        .confetti:nth-child(3) { left: 15%; animation-delay: 0.3s; animation-duration: 2.8s; }
        .confetti:nth-child(4) { left: 20%; animation-delay: 0.4s; animation-duration: 3.2s; }
        .confetti:nth-child(5) { left: 25%; animation-delay: 0.5s; animation-duration: 2.7s; }
        .confetti:nth-child(6) { left: 30%; animation-delay: 0.6s; animation-duration: 3.5s; }
        .confetti:nth-child(7) { left: 35%; animation-delay: 0.7s; animation-duration: 2.9s; }
        .confetti:nth-child(8) { left: 40%; animation-delay: 0.8s; animation-duration: 3.1s; }
        .confetti:nth-child(9) { left: 45%; animation-delay: 0.9s; animation-duration: 2.6s; }
        .confetti:nth-child(10) { left: 50%; animation-delay: 1.0s; animation-duration: 3.3s; }
        .confetti:nth-child(11) { left: 55%; animation-delay: 0.15s; animation-duration: 2.9s; }
        .confetti:nth-child(12) { left: 60%; animation-delay: 0.25s; animation-duration: 3.1s; }
        .confetti:nth-child(13) { left: 65%; animation-delay: 0.35s; animation-duration: 2.6s; }
        .confetti:nth-child(14) { left: 70%; animation-delay: 0.45s; animation-duration: 3.4s; }
        .confetti:nth-child(15) { left: 75%; animation-delay: 0.55s; animation-duration: 2.8s; }
        .confetti:nth-child(16) { left: 80%; animation-delay: 0.65s; animation-duration: 3.2s; }
        .confetti:nth-child(17) { left: 85%; animation-delay: 0.75s; animation-duration: 2.7s; }
        .confetti:nth-child(18) { left: 90%; animation-delay: 0.85s; animation-duration: 3s; }
        .confetti:nth-child(19) { left: 95%; animation-delay: 0.95s; animation-duration: 3.5s; }
        .confetti:nth-child(20) { left: 2%; animation-delay: 0.05s; animation-duration: 2.5s; }


        /* --- 3. Main Container and Card Styling --- */
        .container {
            width: 95%;
            max-width: 450px;
            text-align: center;
        }

        .card {
            background-color: white;
            padding: 30px 20px;
            border-radius: 30px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
            margin-top: 20px;
            display: none;
            /* Animation Properties */
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.5s ease-out, transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.27);
        }
        
        .card.active {
            opacity: 1;
            transform: scale(1);
        }

        /* --- 4. Typography, Buttons, and Images --- */
        h1, h2 { color: #ff69b4; font-weight: 800; }
        .subtitle { font-size: 1.1em; color: #666; margin-top: 5px; }
        .love-letter-text { font-family: 'Georgia', serif; font-size: 1.05em; line-height: 1.6; text-align: left; padding: 15px; }
        
        .pink-button, .green-button {
            border: none; padding: 15px 35px; font-size: 1.2em; font-weight: 600; border-radius: 50px; cursor: pointer; margin-top: 25px; box-shadow: 0 5px 15px rgba(255, 105, 180, 0.5); transition: background-color 0.3s, transform 0.15s, box-shadow 0.3s;
        }
        .pink-button { background-color: #ff69b4; color: white; }
        .green-button { background-color: #6ee6a9; color: white; box-shadow: 0 5px 15px rgba(110, 230, 169, 0.5); }
        .pink-button:hover, .green-button:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(255, 105, 180, 0.6); }
        .pink-button:active, .green-button:active { transform: translateY(0); box-shadow: 0 5px 15px rgba(255, 105, 180, 0.5); }

        .decoration-img { max-width: 80px; height: auto; border-radius: 15px; }
        .cat-image { float: right; margin-left: 10px; }
        .envelope-image { width: 150px; margin: 20px auto; display: block; **cursor: pointer;** transition: transform 0.2s, box-shadow 0.2s; }
        .envelope-image:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 10px 20px rgba(255, 105, 180, 0.3); }
        .album-art { width: 100%; height: auto; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); transition: transform 0.2s; }
        .album-art:hover { transform: scale(1.03); }

        /* --- 5. Cake Cutting Styles (Interactive Drag) --- */
        .cake-container {
            margin: 20px auto;
            position: relative;
            width: 250px;
            height: 250px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }
        .cake-img {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            transition: opacity 0.5s;
        }
        #cake-cut { opacity: 0; }
        
        /* The beautiful, sparkly line that follows the drag */
        #drag-line {
            position: absolute;
            height: 5px;
            background: linear-gradient(90deg, transparent, #ffc0cb, #ff69b4, #ffc0cb, transparent);
            box-shadow: 0 0 10px #ff69b4, 0 0 20px #ffc0cb;
            border-radius: 5px;
            transform-origin: left;
            transition: opacity 0.05s;
            opacity: 0;
            pointer-events: none;
            z-index: 5;
        }

        /* The permanent cut line that appears on success */
        #cut-line {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: #ff69b4;
            transform: translateY(-50%) scaleX(0);
            transform-origin: left;
            transition: transform 0.5s;
            z-index: 6; 
        }

        #cut-message {
            margin-top: 20px;
            color: #ff69b4;
            font-weight: 600;
            font-size: 1.1em;
            display: none;
        }
        
        /* --- 7. Kiss Explosion Animation Styles --- */
        .kiss-explosion-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 9998; /* Below confetti */
        }
        .kiss-emoji {
            position: absolute;
            font-size: 2em; /* Default size */
            opacity: 0;
            animation: float-up 2s ease-out forwards;
        }

        @keyframes float-up {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(var(--x-end), var(--y-end)) scale(var(--scale)); opacity: 0; }
        }


        /* --- 8. Other Styles (Unchanged) --- */
        .carousel-wrapper { display: flex; align-items: center; justify-content: space-between; margin-top: 20px; }
        .carousel { display: flex; overflow: hidden; width: 80%; margin: 0 auto; border-radius: 15px; position: relative; }
        .carousel-item { min-width: 100%; transition: transform 0.4s ease-in-out; cursor: pointer; padding: 5px; }
        .carousel-arrow { background: none; border: none; font-size: 2em; color: #ff69b4; cursor: pointer; padding: 10px; }
        .wishes-grid { display: grid; grid-template-columns: 1fr; gap: 15px; margin-top: 20px; }
        .wish-card { background-color: #fce4ec; height: 150px; border-radius: 15px; position: relative; perspective: 1000px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; }
        .wish-card.flipped .card-inner { transform: rotateY(180deg); }
        .card-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; justify-content: center; align-items: center; border-radius: 15px; padding: 15px; box-sizing: border-box; font-size: 0.95em; }
        .card-front { background-color: #ff69b4; color: white; font-weight: 600; }
        .card-back { background-color: white; color: #333; transform: rotateY(180deg); text-align: center; line-height: 1.4; }
        #unlock-message { margin-top: 15px; color: #ff69b4; font-weight: 600; }
    </style>
</head>
<body>
Â  Â  
    <div id="confetti-holder" class="confetti-container" style="display: none;">
Â  Â  Â  Â  <div class="confetti"></div><div class="confetti"></div><div class="confetti"></div><div class="confetti"></div><div class="confetti"></div>
Â  Â  Â  Â  <div class="confetti"></div><div class="confetti"></div><div class="confetti"></div><div class="confetti"></div><div class="confetti"></div>
Â  Â  Â  Â  <div class="confetti"></div><div class="confetti"></div><div class="confetti"></div><div class="confetti"></div><div class="confetti"></div>
Â  Â  Â  Â  <div class="confetti"></div><div class="confetti"></div><div class="confetti"></div><div class="confetti"></div><div class="confetti"></div>
Â  Â  </div>

    <div id="kiss-explosion-container" class="kiss-explosion-container"></div>
Â  Â  
Â  Â  <audio id="bg-music" loop>
Â  Â  Â  Â  <source src="" type="audio/mpeg">
Â  Â  Â  Â  Your browser does not support the audio element.
Â  Â  </audio>

Â  Â  <div class="container">

Â  Â  Â  Â  <div id="greeting-screen" class="card">
Â  Â  Â  Â  Â  Â  <img class="decoration-img cat-image" src="images/kitty_greeting.png" alt="Cute Kitty"> 
Â  Â  Â  Â  Â  Â  <h1 style="font-size: 2.5em;">Happy Birthday, Beautiful! ğŸ‚âœ¨</h1>
Â  Â  Â  Â  Â  Â  <p>Today is all about celebrating the most amazing person in my world. I've created something magical just for you on your special day...</p>
Â  Â  Â  Â  Â  Â  <p style="color: #ff69b4; font-weight: 600;">Ready for your birthday surprise?</p>
Â  Â  Â  Â  Â  Â  <button class="pink-button" onclick="goToScreen('letter-envelope-screen')">Let's Gooo</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="letter-envelope-screen" class="card">
Â  Â  Â  Â  Â  Â  <h2 style="font-size: 1.8em;">A Birthday Love Letter <span style="font-size: 1.2em;">ğŸ’Œ</span></h2>
Â  Â  Â  Â  Â  Â  <p class="subtitle">From my heart to the birthday queen</p>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <p style="margin-bottom: 30px;">Click the envelope to open your birthday surprise</p>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img id="envelope-img" class="envelope-image" src="images/envelope.png" alt="Pink Envelope" onclick="goToScreen('letter-content-screen')">
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="letter-content-screen" class="card">
Â  Â  Â  Â  Â  Â  <img class="decoration-img cat-image" src="images/kitty_party.png" alt="Kitty with party hat"> 
Â  Â  Â  Â  Â  Â  <h2 style="color: #ff69b4; text-align: left; margin-bottom: 20px;">To My Birthday Princess</h2>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <div class="love-letter-text">
Â  Â  Â  Â  Â  Â  Â  Â  <p style="color: #ff69b4; font-style: italic;">My dearest anuradha,</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>Today marks another year of your incredible existence, and I couldn't be more grateful to celebrate it with you. You bring so much joy, laughter, and love into this world - and into my life. You deserve all the magic, all the dreams, and all the love this world has to offer.</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="text-align: right; color: #ff69b4; margin-top: 20px; font-weight: 600;">Forever yours ğŸ’•</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <button class="pink-button" onclick="goToScreen('playlist-screen')">Continue It âœ¨</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="playlist-screen" class="card">
Â  Â  Â  Â  Â  Â  <h2 style="font-size: 1.8em;">Birthday Vibes Playlist <span style="font-size: 1.2em;">ğŸµ</span></h2>
Â  Â  Â  Â  Â  Â  <p class="subtitle">Tap any album cover to start the music!</p>

Â  Â  Â  Â  Â  Â  <div class="carousel-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="carousel-arrow" onclick="changeSlide(-1)">&#10094;</button>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="carousel">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="carousel-item" onclick="playSong('audio/song1.mp3')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img class="album-art" src="images/album_art_1.png" alt="Raabta album art"> 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="song-title">Raabta</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="song-subtitle">Because today is all about YOU, queen! ğŸ‘‘</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="carousel-item" onclick="playSong('audio/song2.mp3')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img class="album-art" src="images/album_art_2.png" alt="Dil Ka Jo Haal Hai album art"> 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="song-title">Dil Ka Jo Haal Hai</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="song-subtitle">Here's to making this year unforgettable âœ¨</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="carousel-item" onclick="playSong('audio/song3.mp3')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img class="album-art" src="images/album_art_3.png" alt="Tum Ho Toh album art"> 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="song-title">Tum Ho Toh</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="song-subtitle">Every beat celebrates your beautiful heart â¤ï¸</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="carousel-arrow" onclick="changeSlide(1)">&#10095;</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <button class="pink-button" onclick="goToScreen('cake-screen')">Continue to Birthday Surprises âœ¨</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="cake-screen" class="card">
Â  Â  Â  Â  Â  Â  <h2 style="font-size: 1.8em;">It's Cake Time! <span style="font-size: 1.2em;">ğŸ°</span></h2>
Â  Â  Â  Â  Â  Â  <p class="subtitle">Make your birthday wish come true!</p>

Â  Â  Â  Â  Â  Â  <h3 style="color: #333;">Cut your birthday cake, birthday girl!</h3>
Â  Â  Â  Â  Â  Â  <p style="font-size: 0.9em; margin-bottom: 30px;">**Drag your finger or mouse across the cake to cut it with a sparkly line!**</p>

Â  Â  Â  Â  Â  Â  <div id="cake-container" class="cake-container">
Â  Â  Â  Â  Â  Â  Â  Â  <img id="cake-uncut" class="cake-img" src="images/cake_uncut.png" alt="Uncut Birthday Cake">
Â  Â  Â  Â  Â  Â  Â  Â  <img id="cake-cut" class="cake-img" src="images/cake_cut.png" alt="Cut Birthday Cake">
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  <div id="drag-line"></div>
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  <div id="cut-line"></div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <p id="cut-message" style="display: none;">Perfect Cut! ğŸ‰ May this year bring you everything your heart desires! âœ¨</p>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <button id="cake-continue-btn" class="pink-button" onclick="goToScreen('wish-make-screen')" style="display: none;">Continue to Wish! âœ¨</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="wish-make-screen" class="card">
Â  Â  Â  Â  Â  Â  <img class="decoration-img" style="width: 150px; margin-top: 10px;" src="images/wish_making.png" alt="Hello Kitty making a wish"> 
Â  Â  Â  Â  Â  Â  <h2 style="font-size: 2em;">Time to Make a Wish! âœ¨</h2>
Â  Â  Â  Â  Â  Â  <p class="subtitle">Close your eyes and make your birthday wish! â˜€ï¸</p>
Â  Â  Â  Â  Â  Â  <p style="margin-top: 20px;">Think of something wonderful for your new year!</p>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <button class="pink-button" onclick="goToScreen('wishes-reveal-screen')">I've Made My Wish! ğŸ¤</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="wishes-reveal-screen" class="card">
Â  Â  Â  Â  Â  Â  <h2 style="font-size: 1.8em;">Birthday Wishes Cards <span style="font-size: 1.2em;">ğŸ</span></h2>
Â  Â  Â  Â  Â  Â  <p class="subtitle">Click each card to reveal a birthday message!</p>

Â  Â  Â  Â  Â  Â  <div class="wishes-grid">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="wish-1" class="wish-card" onclick="flipCard(this, 1)">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-inner">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-face card-front">Tap to Reveal Wish 1</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-face card-back">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Happy Birthday to the girl who makes every day feel like a celebration! ğŸ’•</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="wish-2" class="wish-card" onclick="flipCard(this, 2)">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-inner">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-face card-front">Tap to Reveal Wish 2</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-face card-back">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Another year of being absolutely incredible, beautiful, and perfect just the way you are! âœ¨</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="wish-3" class="wish-card" onclick="flipCard(this, 3)">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-inner">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-face card-front">Tap to Reveal Wish 3</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-face card-back">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>May this new year bring you endless joy, love, and all the dreams your heart desires! â˜€ï¸ğŸ’–</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <p id="unlock-message">0 of 3 birthday wishes unlocked! Keep going âœ¨</p>
Â  Â  Â  Â  Â  Â  <button id="wishes-continue-btn" class="pink-button" onclick="goToScreen('final-letter-screen')" style="display: none;">Open Final Birthday Letter ğŸ’Œ</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="final-letter-screen" class="card">
Â  Â  Â  Â  Â  Â  <h2 style="font-size: 1.8em;">Final Birthday Letter <span style="font-size: 1.2em;">ğŸ’–</span></h2>
Â  Â  Â  Â  Â  Â  <p class="subtitle">A special message sealed with love</p>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <img class="decoration-img cat-image" src="images/kitty_heart.png" alt="Kitty holding heart"> 
Â  Â  Â  Â  Â  Â  <h3 style="color: #ff69b4; text-align: left; margin-top: 10px;">Final Birthday Love Letter</h3>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <div class="love-letter-text">
Â  Â  Â  Â  Â  Â  Â  Â  <p style="color: #ff69b4; font-style: italic;">My dearest anuradha,</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>May this new year bring you everything your heart desires and more joy than you can imagine. Happy Birthday, my love. You deserve the world and so much more. ğŸ‚âœ¨</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <button class="pink-button" onclick="goToScreen('sealed-letter-screen')">Seal The Letter ğŸ‘‘</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="sealed-letter-screen" class="card">
Â  Â  Â  Â  Â  Â  <h2 style="font-size: 1.8em;">Birthday Letter Sealed with Love <span style="font-size: 1.2em;">ğŸ’–</span></h2>
Â  Â  Â  Â  Â  Â  <p class="subtitle">Happy Birthday, My Everything ğŸ¥³</p>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <h1 style="font-size: 2em; margin: 20px 0;">Forever Yours, Happy Birthday!</h1>
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <button class="pink-button" onclick="stopAndRestart()">Experience Birthday Magic Again âœ¨</button>
Â  Â  Â  Â  Â  Â  <button class="green-button" style="margin-top: 15px;" onclick="sendKisses()">Send Birthday Kisses ğŸ’‹</button>
Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // --- Global Variables ---
Â  Â  Â  Â  let currentSlide = 0;
Â  Â  Â  Â  const slides = document.querySelectorAll('.carousel-item');
Â  Â  Â  Â  let wishesUnlocked = 0;
Â  Â  Â  Â  const wishesCount = 3;
Â  Â  Â  Â  const bgMusic = document.getElementById('bg-music');
Â  Â  Â  Â  
Â  Â  Â  Â  // Cake Cutting Variables
Â  Â  Â  Â  const cakeContainer = document.getElementById('cake-container');
Â  Â  Â  Â  const dragLine = document.getElementById('drag-line');
Â  Â  Â  Â  const cutLine = document.getElementById('cut-line');
Â  Â  Â  Â  let isDragging = false;
Â  Â  Â  Â  let cutCompleted = false;
Â  Â  Â  Â  let startX = 0;
Â  Â  Â  Â  let startY = 0;

Â  Â  Â  Â  // Kiss Explosion Variables
Â  Â  Â  Â  const kissExplosionContainer = document.getElementById('kiss-explosion-container');
Â  Â  Â  Â  const kissEmojis = ['ğŸ’‹', 'ğŸ’–', 'ğŸ’•', 'ğŸ˜˜', 'â¤ï¸'];

Â  Â  Â  Â  // --- Music Playback Function ---
Â  Â  Â  Â  function playSong(audioSrc) {
Â  Â  Â  Â  Â  Â  bgMusic.pause();
Â  Â  Â  Â  Â  Â  bgMusic.src = audioSrc;
Â  Â  Â  Â  Â  Â  bgMusic.load();
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  bgMusic.play().catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  console.log("Audio playback failed:", error);
Â  Â  Â  Â  Â  Â  Â  Â  if (bgMusic.paused) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Music is ready, but your browser might need another tap/click to start the song! Try tapping the album cover again.");
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  function stopMusic() {
Â  Â  Â  Â  Â  Â  bgMusic.pause();
Â  Â  Â  Â  Â  Â  bgMusic.src = '';
Â  Â  Â  Â  Â  Â  bgMusic.load();
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  function stopAndRestart() {
Â  Â  Â  Â  Â  Â  stopMusic();
Â  Â  Â  Â  Â  Â  wishesUnlocked = 0;
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.wish-card').forEach(card => card.classList.remove('flipped'));
Â  Â  Â  Â  Â  Â  document.getElementById('wishes-continue-btn').style.display = 'none';
Â  Â  Â  Â  Â  Â  document.getElementById('unlock-message').textContent = `0 of ${wishesCount} birthday wishes unlocked! Keep going âœ¨`;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Reset cake state
Â  Â  Â  Â  Â  Â  cutCompleted = false;
Â  Â  Â  Â  Â  Â  cutLine.style.transform = 'translateY(-50%) scaleX(0)'; 
Â  Â  Â  Â  Â  Â  document.getElementById('cake-uncut').style.opacity = '1';
Â  Â  Â  Â  Â  Â  document.getElementById('cake-cut').style.opacity = '0';
Â  Â  Â  Â  Â  Â  document.getElementById('cut-message').style.display = 'none';
Â  Â  Â  Â  Â  Â  document.getElementById('cake-continue-btn').style.display = 'none';

Â  Â  Â  Â  Â  Â  goToScreen('greeting-screen');
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- Core Navigation Function ---
Â  Â  Â  Â  function goToScreen(screenId) {
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // CONFFETI LOGIC: Show confetti on the first screen only
Â  Â  Â  Â  Â  Â  if (screenId === 'greeting-screen') {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('confetti-holder').style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  // Hide confetti after a few seconds so it looks like a proper burst
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('confetti-holder').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  }, 3000); 
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('confetti-holder').style.display = 'none';
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Exit animation
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.card.active').forEach(card => {
Â  Â  Â  Â  Â  Â  Â  Â  card.classList.remove('active');
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Hide all screens
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.card').forEach(card => {
Â  Â  Â  Â  Â  Â  Â  Â  card.style.display = 'none';
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Show the target screen and enter animation
Â  Â  Â  Â  Â  Â  const nextScreen = document.getElementById(screenId);
Â  Â  Â  Â  Â  Â  nextScreen.style.display = 'block';
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  nextScreen.classList.add('active');
Â  Â  Â  Â  Â  Â  }, 10); 
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (screenId === 'playlist-screen') {
Â  Â  Â  Â  Â  Â  Â  Â  currentSlide = 0;
Â  Â  Â  Â  Â  Â  Â  Â  updateCarousel();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- Playlist Carousel Logic (SCREEN 4) ---
Â  Â  Â  Â  function updateCarousel() {
Â  Â  Â  Â  Â  Â  slides.forEach((slide, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  slide.style.transform = `translateX(-${currentSlide * 100}%)`;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function changeSlide(direction) {
Â  Â  Â  Â  Â  Â  currentSlide += direction;
Â  Â  Â  Â  Â  Â  if (currentSlide < 0) {
Â  Â  Â  Â  Â  Â  Â  Â  currentSlide = slides.length - 1;
Â  Â  Â  Â  Â  Â  } else if (currentSlide >= slides.length) {
Â  Â  Â  Â  Â  Â  Â  Â  currentSlide = 0;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  updateCarousel();
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- Cake Cutting Drag/Swipe Logic (SCREEN 5) ---
Â  Â  Â  Â  function getCoords(event) {
Â  Â  Â  Â  Â  Â  const rect = cakeContainer.getBoundingClientRect();
Â  Â  Â  Â  Â  Â  let x, y;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (event.touches) {
Â  Â  Â  Â  Â  Â  Â  Â  x = event.touches[0].clientX - rect.left;
Â  Â  Â  Â  Â  Â  Â  Â  y = event.touches[0].clientY - rect.top;
Â  Â  Â  Â  Â  Â  } 
Â  Â  Â  Â  Â  Â  else {
Â  Â  Â  Â  Â  Â  Â  Â  x = event.clientX - rect.left;
Â  Â  Â  Â  Â  Â  Â  Â  y = event.clientY - rect.top;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return { x, y };
Â  Â  Â  Â  }

Â  Â  Â  Â  function startCut(event) {
Â  Â  Â  Â  Â  Â  if (cutCompleted) return;
Â  Â  Â  Â  Â  Â  isDragging = true;
Â  Â  Â  Â  Â  Â  dragLine.style.opacity = 1;
Â  Â  Â  Â  Â  Â  const coords = getCoords(event);
Â  Â  Â  Â  Â  Â  startX = coords.x;
Â  Â  Â  Â  Â  Â  startY = coords.y;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  dragLine.style.left = `${startX}px`;
Â  Â  Â  Â  Â  Â  dragLine.style.top = `${startY}px`;
Â  Â  Â  Â  Â  Â  dragLine.style.width = '0px';
Â  Â  Â  Â  }

Â  Â  Â  Â  function moveCut(event) {
Â  Â  Â  Â  Â  Â  if (!isDragging || cutCompleted) return;
Â  Â  Â  Â  Â  Â  event.preventDefault();

Â  Â  Â  Â  Â  Â  const coords = getCoords(event);
Â  Â  Â  Â  Â  Â  const currentX = coords.x;
Â  Â  Â  Â  Â  Â  const currentY = coords.y;

Â  Â  Â  Â  Â  Â  const deltaX = currentX - startX;
Â  Â  Â  Â  Â  Â  const deltaY = currentY - startY;
Â  Â  Â  Â  Â  Â  const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
Â  Â  Â  Â  Â  Â  const angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);

Â  Â  Â  Â  Â  Â  dragLine.style.width = `${distance}px`;
Â  Â  Â  Â  Â  Â  dragLine.style.transform = `rotate(${angle}deg)`;
Â  Â  Â  Â  }

Â  Â  Â  Â  function endCut(event) {
Â  Â  Â  Â  Â  Â  if (!isDragging || cutCompleted) return;
Â  Â  Â  Â  Â  Â  isDragging = false;
Â  Â  Â  Â  Â  Â  dragLine.style.opacity = 0;

Â  Â  Â  Â  Â  Â  const coords = getCoords(event.changedTouches ? event.changedTouches[0] : event);
Â  Â  Â  Â  Â  Â  const endX = coords.x;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const cakeWidth = cakeContainer.clientWidth;
Â  Â  Â  Â  Â  Â  const cutLength = Math.abs(endX - startX); 

Â  Â  Â  Â  Â  Â  if (cutLength > (cakeWidth * 0.7)) {
Â  Â  Â  Â  Â  Â  Â  Â  cutCompleted = true;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  cutLine.style.transform = 'translateY(-50%) scaleX(1)';
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('cake-uncut').style.opacity = '0';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('cake-cut').style.opacity = '1';
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('cut-message').style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('cake-continue-btn').style.display = 'block';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  cakeContainer.addEventListener('mousedown', startCut);
Â  Â  Â  Â  cakeContainer.addEventListener('mousemove', moveCut);
Â  Â  Â  Â  document.addEventListener('mouseup', endCut); 
Â  Â  Â  Â  
Â  Â  Â  Â  cakeContainer.addEventListener('touchstart', startCut);
Â  Â  Â  Â  cakeContainer.addEventListener('touchmove', moveCut);
Â  Â  Â  Â  document.addEventListener('touchend', endCut);


Â  Â  Â  Â  // --- Wish Card Flip Logic (SCREEN 7) ---
Â  Â  Â  Â  function flipCard(cardElement, wishNumber) {
Â  Â  Â  Â  Â  Â  if (cardElement.classList.contains('flipped')) {
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  cardElement.classList.add('flipped');
Â  Â  Â  Â  Â  Â  wishesUnlocked++;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  document.getElementById('unlock-message').textContent = `${wishesUnlocked} of ${wishesCount} birthday wishes unlocked! Keep going âœ¨`;

Â  Â  Â  Â  Â  Â  if (wishesUnlocked === wishesCount) {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('unlock-message').textContent = "Amazing! All birthday wishes revealed! âœ¨";
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('wishes-continue-btn').style.display = 'block';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // --- Kiss Explosion Function ---
Â  Â  Â  Â  function sendKisses() {
Â  Â  Â  Â  Â  Â  const button = document.querySelector('#sealed-letter-screen .green-button');
Â  Â  Â  Â  Â  Â  const rect = button.getBoundingClientRect();
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Calculate center position of the button
Â  Â  Â  Â  Â  Â  const centerX = rect.left + rect.width / 2;
Â  Â  Â  Â  Â  Â  const centerY = rect.top + rect.height / 2;

Â  Â  Â  Â  Â  Â  // Clear previous kisses
Â  Â  Â  Â  Â  Â  kissExplosionContainer.innerHTML = '';
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Create 30 kisses/hearts
Â  Â  Â  Â  Â  Â  for (let i = 0; i < 30; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  const kiss = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  kiss.classList.add('kiss-emoji');
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Randomly select emoji
Â  Â  Â  Â  Â  Â  Â  Â  kiss.textContent = kissEmojis[Math.floor(Math.random() * kissEmojis.length)];
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Random size (small to big)
Â  Â  Â  Â  Â  Â  Â  Â  const size = Math.random() * 0.8 + 1.2; // 1.2em to 2.0em
Â  Â  Â  Â  Â  Â  Â  Â  kiss.style.fontSize = `${size}em`;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Starting position centered on the button
Â  Â  Â  Â  Â  Â  Â  Â  kiss.style.left = `${centerX}px`;
Â  Â  Â  Â  Â  Â  Â  Â  kiss.style.top = `${centerY}px`;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Random end position (floating up and out)
Â  Â  Â  Â  Â  Â  Â  Â  const endX = (Math.random() - 0.5) * window.innerWidth / 2; // Horizontal spread
Â  Â  Â  Â  Â  Â  Â  Â  const endY = -window.innerHeight * (Math.random() * 0.5 + 0.3); // Float upwards 30% to 80% of screen height
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Set CSS variables for animation
Â  Â  Â  Â  Â  Â  Â  Â  kiss.style.setProperty('--x-end', `${endX}px`);
Â  Â  Â  Â  Â  Â  Â  Â  kiss.style.setProperty('--y-end', `${endY}px`);
Â  Â  Â  Â  Â  Â  Â  Â  kiss.style.setProperty('--scale', Math.random() * 0.5 + 0.5); // End scale 0.5 to 1.0
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Random animation delay
Â  Â  Â  Â  Â  Â  Â  Â  kiss.style.animationDelay = `${Math.random() * 0.5}s`;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  kissExplosionContainer.appendChild(kiss);

Â  Â  Â  Â  Â  Â  Â  Â  // Remove the element after animation ends (2.5 seconds total)
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  kiss.remove();
Â  Â  Â  Â  Â  Â  Â  Â  }, 2500);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }


Â  Â  Â  Â  // --- Initialize the Website ---
Â  Â  Â  Â  window.onload = function() {
Â  Â  Â  Â  Â  Â  goToScreen('greeting-screen'); 
Â  Â  Â  Â  };
Â  Â  </script>
</body>
</html>
